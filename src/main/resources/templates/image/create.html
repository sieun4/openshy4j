<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}" xmlns="http://www.w3.org/1999/html">
<head>
</head>
<body>
<section layout:fragment="content">


  <h2>이미지 생성</h2>

  <form action="#" method="POST" enctype="multipart/form-data"
        th:action="@{/v2/images}"
        class="w3-container w3-card-4 w3-light-grey">

    <p>
      <label>이미지 이름</label>

      <input type="text" name="name" placeholder="이미지 이름"
             class="w3-input w3-border w3-round"></p></br>
    <p>
      <label>이미지 설명</label>
      <input type="text" name="description" placeholder="이미지 설명"
             class="w3-input w3-border w3-round"></p></br>

    <p>
      <label>이미지 파일</label> </br>
      <input type="file" name="file" id="file" style="display: none;"
             onchange="getFileName()">
      <label for="file" class="w3-btn w3-blue w3-round">파일 선택</label>
      <input type="text" id="fileName" name="fileName" class="w3-input w3-border-0" disabled>
    </p>


    <p>
      <label>이미지 포맷</label>
      <input list="diskFormatList" name="diskFormat"
             class="w3-select w3-round w3-border">


      <datalist id="diskFormatList" autocomplete="off">
        <option label="ISO - 광학 디스크 이미지 (Optical Disk Image)" value="ISO">
        <option label="QCOW2 - QEMU 에뮬레이터 (Emulator)" value="QCOW2">
        <option label="VDI - 가상 디스크 이미지 (Virtual Disk Image)" value="VDI">
        <option label="VHD - 가상 하드 디스크 (Virtual Hard Disk)" value="VHD">
        <option label="VMDK - 가상 머신 디스크 (Virtual Machine Disk)" value="VMDK">
        <option label="AKI - Amazon 커널 이미지 (Kernel Image)" value="AKI">
        <option label="AMI - Amazon 머신 이미지 (Machine Image)" value="AMI">
        <option label="ARI - Amazon 램디스크 이미지 (Ramdisk Image)" value="ARI">
      </datalist>
      </br>
      </br>
      <input type="submit" value="생성" class="w3-btn w3-teal w3-round">
    </p>
  </form>
  </br>


  </div>
  <script>
    function getFileName() {
      var filePath = $('#file').val();
      var fileName = filePath.split('\\');
      console.log("fileName is", fileName);

      $('#fileName').val(fileName[2]);

    };

  </script>

</section>


</body>


</html>